 LINE  | ADDRESS  | HEX DUMP                  | ASSEMBLY
-------|----------|---------------------------|----------------------------
     1 |          |                           | YKDispatcher:
     2 |          |                           | ; save context of YKCurrTask
     3 | 00000000 | A3[2E03]                  |     mov word [YKCurrTask],ax
     4 | 00000003 | 891E[3003]                |     mov word [YKCurrTask+2],bx
     5 | 00000007 | 890E[3203]                |     mov word [YKCurrTask+4],cx
     6 | 0000000B | 8916[3403]                |     mov word [YKCurrTask+6],dx
     7 | 0000000F | 8B4602                    |     mov ax,[bp+2]           ; get return address
     8 | 00000012 | A3[3603]                  |     mov word [YKCurrTask+8],ax   ; save ip
     9 | 00000015 | 89E8                      |     mov ax,bp               ; get bp
    10 | 00000017 | 83C004                    |     add ax,4                ; get where sp should be
    11 | 0000001A | A3[3803]                  |     mov word [YKCurrTask+10],ax  ; save sp
    12 | 0000001D | 892E[3A03]                |     mov word [YKCurrTask+12],bp  ; save bp
    13 | 00000021 | 8936[3C03]                |     mov word [YKCurrTask+14],si  ;save si
    14 | 00000025 | 893E[3E03]                |     mov word [YKCurrTask+16],di
    15 | 00000029 | 8C0E[4003]                |     mov word [YKCurrTask+18],cs
    16 | 0000002D | 8C16[4203]                |     mov word [YKCurrTask+20],ss
    17 | 00000031 | 8C1E[4403]                |     mov word [YKCurrTask+22],ds
    18 | 00000035 | 8C06[4603]                |     mov word [YKCurrTask+24],es
    19 | 00000039 | B8[2E03]                  |     mov ax, YKCurrTask
    20 | 0000003C | 83C01C                    |     add ax, 28
    21 | 0000003F | 89C4                      |     mov sp,ax               ; set sp to get ready to push flags
    22 | 00000041 | 9C                        |     pushf                   ; push flags (sp-2 <= flags)
    23 |          |                           |     
    24 | 00000042 | A1[9002]                  |     mov ax, word [YKRdyList]      ; save readylist address
    25 | 00000045 | A3[2E03]                  |     mov word [YKCurrTask],ax     ; YKCurrTask = YKRdyList
    26 |          |                           | ; Restore context of YKRdyList
    27 | 00000048 | A1[9002]                  |     mov ax, word [YKRdyList]
    28 | 0000004B | 8B1E[9202]                |     mov bx, word [YKRdyList+2]
    29 | 0000004F | 8B0E[9402]                |     mov cx, word [YKRdyList+4]
    30 | 00000053 | 8B16[9602]                |     mov dx, word [YKRdyList+6]
    31 |          |                           |     ; YKRdyList+8 is ip
    32 | 00000057 | 8B26[9A02]                |     mov sp, word [YKRdyList+10] 
    33 | 0000005B | 8B2E[9C02]                |     mov bp, word [YKRdyList+12]
    34 | 0000005F | 8B36[9E02]                |     mov si, word [YKRdyList+14]
    35 | 00000063 | 8B3E[A002]                |     mov di, word [YKRdyList+16]
    36 | 00000067 | 8E0E[A202]                |     mov cs, word [YKRdyList+18]
    37 | 0000006B | 8E16[A402]                |     mov ss, word [YKRdyList+20]
    38 | 0000006F | 8E1E[A602]                |     mov ds, word [YKRdyList+22]
    39 | 00000073 | 8E06[A802]                |     mov es, word [YKRdyList+24]
    40 | 00000077 | FF36[AA02]                |     push word [YKRdyList+26]     ; push flags
    41 | 0000007B | FF36[A202]                |     push word [YKRdyList+18]     ; push cs
    42 | 0000007F | FF36[9802]                |     push word [YKRdyList+8]      ; push ip
    43 | 00000083 | CF                        |     iret
    44 |          |                           | ; Generated by c86 (BYU-NASM) 5.1 (beta) from yakc.i
    45 |          |                           | 	CPU	8086
    46 |          |                           | 	ALIGN	2
    47 | 00000084 | E9ED01                    | 	jmp	main	; Jump to program start
    48 | 00000087 | 90                        | 	ALIGN	2
    49 |          |                           | YKIdleTask:
    50 | 00000088 | EB06                      | 	jmp	L_yakc_1
    51 |          |                           | L_yakc_2:
    52 |          |                           | L_yakc_3:
    53 |          |                           | L_yakc_4:
    54 | 0000008A | EBFE                      | 	jmp	L_yakc_3
    55 |          |                           | L_yakc_5:
    56 | 0000008C | 89EC                      | 	mov	sp, bp
    57 | 0000008E | 5D                        | 	pop	bp
    58 | 0000008F | C3                        | 	ret
    59 |          |                           | L_yakc_1:
    60 | 00000090 | 55                        | 	push	bp
    61 | 00000091 | 89E5                      | 	mov	bp, sp
    62 | 00000093 | EBF5                      | 	jmp	L_yakc_2
    63 | 00000095 | 90                        | 	ALIGN	2
    64 |          |                           | YKNewTask:
    65 | 00000096 | E9CF00                    | 	jmp	L_yakc_7
    66 |          |                           | L_yakc_8:
    67 | 00000099 | A1[9402]                  | 	mov	ax, word [YKAvailTCBList]
    68 | 0000009C | 8946FE                    | 	mov	word [bp-2], ax
    69 | 0000009F | 8306[9402]26              | 	add	word [YKAvailTCBList], 38
    70 | 000000A4 | 8B76FE                    | 	mov	si, word [bp-2]
    71 | 000000A7 | C7040000                  | 	mov	word [si], 0
    72 | 000000AB | 8B76FE                    | 	mov	si, word [bp-2]
    73 | 000000AE | 83C602                    | 	add	si, 2
    74 | 000000B1 | C7040000                  | 	mov	word [si], 0
    75 | 000000B5 | 8B76FE                    | 	mov	si, word [bp-2]
    76 | 000000B8 | 83C604                    | 	add	si, 4
    77 | 000000BB | C7040000                  | 	mov	word [si], 0
    78 | 000000BF | 8B76FE                    | 	mov	si, word [bp-2]
    79 | 000000C2 | 83C606                    | 	add	si, 6
    80 | 000000C5 | C7040000                  | 	mov	word [si], 0
    81 | 000000C9 | 8B76FE                    | 	mov	si, word [bp-2]
    82 | 000000CC | 83C608                    | 	add	si, 8
    83 | 000000CF | 8B4604                    | 	mov	ax, word [bp+4]
    84 | 000000D2 | 8904                      | 	mov	word [si], ax
    85 | 000000D4 | 8B76FE                    | 	mov	si, word [bp-2]
    86 | 000000D7 | 83C60A                    | 	add	si, 10
    87 | 000000DA | 8B4606                    | 	mov	ax, word [bp+6]
    88 | 000000DD | 8904                      | 	mov	word [si], ax
    89 | 000000DF | 8B76FE                    | 	mov	si, word [bp-2]
    90 | 000000E2 | 83C60C                    | 	add	si, 12
    91 | 000000E5 | 8B4606                    | 	mov	ax, word [bp+6]
    92 | 000000E8 | 8904                      | 	mov	word [si], ax
    93 | 000000EA | 8B76FE                    | 	mov	si, word [bp-2]
    94 | 000000ED | 83C60E                    | 	add	si, 14
    95 | 000000F0 | C7040000                  | 	mov	word [si], 0
    96 | 000000F4 | 8B76FE                    | 	mov	si, word [bp-2]
    97 | 000000F7 | 83C610                    | 	add	si, 16
    98 | 000000FA | C7040000                  | 	mov	word [si], 0
    99 | 000000FE | 8B76FE                    | 	mov	si, word [bp-2]
   100 | 00000101 | 83C612                    | 	add	si, 18
   101 | 00000104 | C7040000                  | 	mov	word [si], 0
   102 | 00000108 | 8B76FE                    | 	mov	si, word [bp-2]
   103 | 0000010B | 83C614                    | 	add	si, 20
   104 | 0000010E | C7040000                  | 	mov	word [si], 0
   105 | 00000112 | 8B76FE                    | 	mov	si, word [bp-2]
   106 | 00000115 | 83C616                    | 	add	si, 22
   107 | 00000118 | C7040000                  | 	mov	word [si], 0
   108 | 0000011C | 8B76FE                    | 	mov	si, word [bp-2]
   109 | 0000011F | 83C618                    | 	add	si, 24
   110 | 00000122 | C7040000                  | 	mov	word [si], 0
   111 | 00000126 | 8B76FE                    | 	mov	si, word [bp-2]
   112 | 00000129 | 83C61A                    | 	add	si, 26
   113 | 0000012C | C7040002                  | 	mov	word [si], 512
   114 | 00000130 | 8A4608                    | 	mov	al, byte [bp+8]
   115 | 00000133 | 30E4                      | 	xor	ah, ah
   116 | 00000135 | 8B76FE                    | 	mov	si, word [bp-2]
   117 | 00000138 | 83C61C                    | 	add	si, 28
   118 | 0000013B | 8904                      | 	mov	word [si], ax
   119 | 0000013D | 8B76FE                    | 	mov	si, word [bp-2]
   120 | 00000140 | 83C61E                    | 	add	si, 30
   121 | 00000143 | C7040000                  | 	mov	word [si], 0
   122 | 00000147 | 8B76FE                    | 	mov	si, word [bp-2]
   123 | 0000014A | 83C620                    | 	add	si, 32
   124 | 0000014D | C7040000                  | 	mov	word [si], 0
   125 | 00000151 | FF76FE                    | 	push	word [bp-2]
   126 | 00000154 | E8A700                    | 	call	YKAddReadyTask
   127 | 00000157 | 83C402                    | 	add	sp, 2
   128 | 0000015A | A1[8E02]                  | 	mov	ax, word [YKRunFlag]
   129 | 0000015D | 85C0                      | 	test	ax, ax
   130 | 0000015F | 7403                      | 	je	L_yakc_9
   131 | 00000161 | E88200                    | 	call	YKScheduler
   132 |          |                           | L_yakc_9:
   133 | 00000164 | 89EC                      | 	mov	sp, bp
   134 | 00000166 | 5D                        | 	pop	bp
   135 | 00000167 | C3                        | 	ret
   136 |          |                           | L_yakc_7:
   137 | 00000168 | 55                        | 	push	bp
   138 | 00000169 | 89E5                      | 	mov	bp, sp
   139 | 0000016B | 51                        | 	push	cx
   140 | 0000016C | E92AFF                    | 	jmp	L_yakc_8
   141 | 0000016F | 90                        | 	ALIGN	2
   142 |          |                           | YKInitialize:
   143 | 00000170 | EB51                      | 	jmp	L_yakc_11
   144 |          |                           | L_yakc_12:
   145 | 00000172 | C746FA6400                | 	mov	word [bp-6], 100
   146 | 00000177 | C706[8602]0000            | 	mov	word [YKCtxSwCount], 0
   147 | 0000017D | C706[8A02]0000            | 	mov	word [YKTickNum], 0
   148 | 00000183 | C706[8802]0000            | 	mov	word [YKIdleCount], 0
   149 | 00000189 | C706[8C02]0000            | 	mov	word [YKISRDepth], 0
   150 | 0000018F | C706[8E02]0000            | 	mov	word [YKRunFlag], 0
   151 | 00000195 | C706[9002]0000            | 	mov	word [YKRdyList], 0
   152 | 0000019B | C746FE[8800]              | 	mov	word [bp-2], YKIdleTask
   153 | 000001A0 | C746FC[3003]              | 	mov	word [bp-4], YKIdleTaskStack
   154 | 000001A5 | C746FA6400                | 	mov	word [bp-6], 100
   155 | 000001AA | C706[9402][9602]          | 	mov	word [YKAvailTCBList], YKTCBArray
   156 | 000001B0 | FF76FA                    | 	push	word [bp-6]
   157 | 000001B3 | FF76FC                    | 	push	word [bp-4]
   158 | 000001B6 | FF76FE                    | 	push	word [bp-2]
   159 | 000001B9 | E8DAFE                    | 	call	YKNewTask
   160 | 000001BC | 83C406                    | 	add	sp, 6
   161 | 000001BF | 89EC                      | 	mov	sp, bp
   162 | 000001C1 | 5D                        | 	pop	bp
   163 | 000001C2 | C3                        | 	ret
   164 |          |                           | L_yakc_11:
   165 | 000001C3 | 55                        | 	push	bp
   166 | 000001C4 | 89E5                      | 	mov	bp, sp
   167 | 000001C6 | 83EC06                    | 	sub	sp, 6
   168 | 000001C9 | EBA7                      | 	jmp	L_yakc_12
   169 | 000001CB | 90                        | 	ALIGN	2
   170 |          |                           | YKRun:
   171 | 000001CC | EB13                      | 	jmp	L_yakc_14
   172 |          |                           | L_yakc_15:
   173 | 000001CE | C706[8E02]0100            | 	mov	word [YKRunFlag], 1
   174 | 000001D4 | A1[9002]                  | 	mov	ax, word [YKRdyList]
   175 | 000001D7 | A3[2E03]                  | 	mov	word [YKCurrTask], ax
   176 | 000001DA | E80900                    | 	call	YKScheduler
   177 | 000001DD | 89EC                      | 	mov	sp, bp
   178 | 000001DF | 5D                        | 	pop	bp
   179 | 000001E0 | C3                        | 	ret
   180 |          |                           | L_yakc_14:
   181 | 000001E1 | 55                        | 	push	bp
   182 | 000001E2 | 89E5                      | 	mov	bp, sp
   183 | 000001E4 | EBE8                      | 	jmp	L_yakc_15
   184 |          |                           | 	ALIGN	2
   185 |          |                           | YKScheduler:
   186 | 000001E6 | EB10                      | 	jmp	L_yakc_17
   187 |          |                           | L_yakc_18:
   188 | 000001E8 | A1[9002]                  | 	mov	ax, word [YKRdyList]
   189 | 000001EB | 3B06[2E03]                | 	cmp	ax, word [YKCurrTask]
   190 | 000001EF | 7403                      | 	je	L_yakc_19
   191 | 000001F1 | E80CFE                    | 	call	YKDispatcher
   192 |          |                           | L_yakc_19:
   193 | 000001F4 | 89EC                      | 	mov	sp, bp
   194 | 000001F6 | 5D                        | 	pop	bp
   195 | 000001F7 | C3                        | 	ret
   196 |          |                           | L_yakc_17:
   197 | 000001F8 | 55                        | 	push	bp
   198 | 000001F9 | 89E5                      | 	mov	bp, sp
   199 | 000001FB | EBEB                      | 	jmp	L_yakc_18
   200 | 000001FD | 90                        | 	ALIGN	2
   201 |          |                           | YKAddReadyTask:
   202 | 000001FE | EB6E                      | 	jmp	L_yakc_21
   203 |          |                           | L_yakc_22:
   204 | 00000200 | A1[9002]                  | 	mov	ax, word [YKRdyList]
   205 | 00000203 | 85C0                      | 	test	ax, ax
   206 | 00000205 | 7508                      | 	jne	L_yakc_23
   207 | 00000207 | 8B4604                    | 	mov	ax, word [bp+4]
   208 | 0000020A | A3[9002]                  | 	mov	word [YKRdyList], ax
   209 | 0000020D | EB5B                      | 	jmp	L_yakc_24
   210 |          |                           | L_yakc_23:
   211 | 0000020F | A1[9002]                  | 	mov	ax, word [YKRdyList]
   212 | 00000212 | 8946FE                    | 	mov	word [bp-2], ax
   213 | 00000215 | EB0B                      | 	jmp	L_yakc_26
   214 |          |                           | L_yakc_25:
   215 | 00000217 | 8B76FE                    | 	mov	si, word [bp-2]
   216 | 0000021A | 83C624                    | 	add	si, 36
   217 | 0000021D | 8B04                      | 	mov	ax, word [si]
   218 | 0000021F | 8946FE                    | 	mov	word [bp-2], ax
   219 |          |                           | L_yakc_26:
   220 | 00000222 | 8B7604                    | 	mov	si, word [bp+4]
   221 | 00000225 | 83C61C                    | 	add	si, 28
   222 | 00000228 | 8B7EFE                    | 	mov	di, word [bp-2]
   223 | 0000022B | 83C71C                    | 	add	di, 28
   224 | 0000022E | 8B05                      | 	mov	ax, word [di]
   225 | 00000230 | 3B04                      | 	cmp	ax, word [si]
   226 | 00000232 | 7CE3                      | 	jl	L_yakc_25
   227 |          |                           | L_yakc_27:
   228 | 00000234 | 8B7604                    | 	mov	si, word [bp+4]
   229 | 00000237 | 83C624                    | 	add	si, 36
   230 | 0000023A | 8B46FE                    | 	mov	ax, word [bp-2]
   231 | 0000023D | 8904                      | 	mov	word [si], ax
   232 | 0000023F | 8B76FE                    | 	mov	si, word [bp-2]
   233 | 00000242 | 83C622                    | 	add	si, 34
   234 | 00000245 | 8B7E04                    | 	mov	di, word [bp+4]
   235 | 00000248 | 83C722                    | 	add	di, 34
   236 | 0000024B | 8B04                      | 	mov	ax, word [si]
   237 | 0000024D | 8905                      | 	mov	word [di], ax
   238 | 0000024F | 8B76FE                    | 	mov	si, word [bp-2]
   239 | 00000252 | 83C622                    | 	add	si, 34
   240 | 00000255 | 8B34                      | 	mov	si, word [si]
   241 | 00000257 | 83C624                    | 	add	si, 36
   242 | 0000025A | 8B4604                    | 	mov	ax, word [bp+4]
   243 | 0000025D | 8904                      | 	mov	word [si], ax
   244 | 0000025F | 8B76FE                    | 	mov	si, word [bp-2]
   245 | 00000262 | 83C622                    | 	add	si, 34
   246 | 00000265 | 8B4604                    | 	mov	ax, word [bp+4]
   247 | 00000268 | 8904                      | 	mov	word [si], ax
   248 |          |                           | L_yakc_24:
   249 |          |                           | L_yakc_28:
   250 | 0000026A | 89EC                      | 	mov	sp, bp
   251 | 0000026C | 5D                        | 	pop	bp
   252 | 0000026D | C3                        | 	ret
   253 |          |                           | L_yakc_21:
   254 | 0000026E | 55                        | 	push	bp
   255 | 0000026F | 89E5                      | 	mov	bp, sp
   256 | 00000271 | 51                        | 	push	cx
   257 | 00000272 | EB8C                      | 	jmp	L_yakc_22
   258 |          |                           | 	ALIGN	2
   259 |          |                           | main:
   260 | 00000274 | EB0A                      | 	jmp	L_yakc_30
   261 |          |                           | L_yakc_31:
   262 | 00000276 | E80FFE                    | 	call	YKIdleTask
   263 | 00000279 | B80100                    | 	mov	ax, 1
   264 |          |                           | L_yakc_32:
   265 | 0000027C | 89EC                      | 	mov	sp, bp
   266 | 0000027E | 5D                        | 	pop	bp
   267 | 0000027F | C3                        | 	ret
   268 |          |                           | L_yakc_30:
   269 | 00000280 | 55                        | 	push	bp
   270 | 00000281 | 89E5                      | 	mov	bp, sp
   271 | 00000283 | EBF1                      | 	jmp	L_yakc_31
   272 | 00000285 | 90                        | 	ALIGN	2
   273 |          |                           | YKCtxSwCount:
   274 | 00000286 | 00<rept>                  | 	TIMES	2 db 0
   275 |          |                           | YKIdleCount:
   276 | 00000288 | 00<rept>                  | 	TIMES	2 db 0
   277 |          |                           | YKTickNum:
   278 | 0000028A | 00<rept>                  | 	TIMES	2 db 0
   279 |          |                           | YKISRDepth:
   280 | 0000028C | 00<rept>                  | 	TIMES	2 db 0
   281 |          |                           | YKRunFlag:
   282 | 0000028E | 00<rept>                  | 	TIMES	2 db 0
   283 |          |                           | YKRdyList:
   284 | 00000290 | 00<rept>                  | 	TIMES	2 db 0
   285 |          |                           | YKBlockList:
   286 | 00000292 | 00<rept>                  | 	TIMES	2 db 0
   287 |          |                           | YKAvailTCBList:
   288 | 00000294 | 00<rept>                  | 	TIMES	2 db 0
   289 |          |                           | YKTCBArray:
   290 | 00000296 | 00<rept>                  | 	TIMES	152 db 0
   291 |          |                           | YKCurrTask:
   292 | 0000032E | 00<rept>                  | 	TIMES	2 db 0
   293 |          |                           | YKIdleTaskStack:
   294 | 00000330 | 00<rept>                  | 	TIMES	512 db 0
